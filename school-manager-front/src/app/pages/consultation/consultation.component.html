<mat-drawer-container class="h-full bg-white">
    <mat-drawer #sideNav mode="over" opened="false" position="end" class="w-1/2">
        <ng-container *ngIf="selectedTab == 0; else consulSkill">
            <app-consultation-evaluations-eleves></app-consultation-evaluations-eleves>
        </ng-container>
        <ng-template #consulSkill>
            <app-consultation-evaluations-competences></app-consultation-evaluations-competences>
        </ng-template>
    </mat-drawer>
    <mat-drawer-content>
        <div class="m-10 overflow-auto">
            <div class="mb-6">
                <h1>Consultation</h1>
                <hr>
            </div>
            <div class="flex justify-end">
                <button class="text-blue-600 font-bold inline-flex items-center hover:text-blue-500 mr-2 focus:outline-none">
                    <svg viewBox="0 0 20 20" fill="currentColor" class="download w-6 h-6">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                    Importer
                </button>
            
                <button class="text-blue-600 font-bold inline-flex items-center hover:text-blue-500 focus:outline-none">
                    <svg viewBox="0 0 20 20" fill="currentColor" class="upload w-6 h-6">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Exporter
                </button>
            </div>

            <mat-tab-group (selectedTabChange)="tabChanged($event)">
                <mat-tab label="Par élève">
                    <table mat-table [dataSource]="students" class="table-auto w-full text-left whitespace-no-wrap">    
                        <ng-container matColumnDef="familyName">
                            <th mat-header-cell *matHeaderCellDef>Nom</th>
                            <td mat-cell *matCellDef="let student">{{ student.familyName }}</td>
                        </ng-container>

                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef>Prénom</th>
                            <td mat-cell *matCellDef="let student">{{ student.name }}</td>
                        </ng-container>
                        
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsStudent"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsStudent;" class="hover:bg-blue-200 cursor-pointer" (click)="consultStudentEvaluations(row)">
                        </tr>
                    </table>
                </mat-tab>

                <mat-tab label="Par compétence">
                    <table mat-table [dataSource]="skills" class="table-auto w-full text-left whitespace-no-wrap">                    
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef>Compétence</th>
                            <td mat-cell *matCellDef="let skill">{{ skill.name }}</td>
                        </ng-container>        
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsSkill"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsSkill;" class="hover:bg-blue-200 cursor-pointer" (click)="consultSkillEvaluations(row)">
                        </tr>
                    </table>
                </mat-tab>
            </mat-tab-group>
        </div>

    </mat-drawer-content>
</mat-drawer-container>

